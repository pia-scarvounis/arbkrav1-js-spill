<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Arbeidskrav 1!</title>
    <link rel="stylesheet" href="game.css" />
  </head>
  <!-- HTML KODEN TRENGER DU IKKE RØRE FOR Å LØSE OPPGAVENE. -->

  <body>
    <div class="main-container">
      <!-- Healthbars til heroene -->
      <div class="hero-health-containers">
        <div class="healthbar-container">
          <!-- healer-health sin vidde må forandres for å endre lifebar -->
          <div class="healthbar healer-health"></div>
          <div class="text-container">
            <p id="healer-name-txt">Healerens navn</p>
            <p id="healer-health-txt">400 / 400 HP</p>
          </div>
        </div>
        <div class="healthbar-container">
          <!-- archer-health sin vidde må forandres for å endre lifebar -->
          <div class="healthbar archer-health"></div>
          <div class="text-container">
            <p id="archer-name-txt">Archerens navn</p>
            <p id="archer-health-txt">600 / 600 HP</p>
          </div>
        </div>
        <div class="healthbar-container">
          <!-- warrior-health sin vidde må forandres for å endre lifebar -->
          <div class="healthbar warrior-health"></div>
          <div class="text-container">
            <p id="warrior-name-txt">Warriorens navn</p>
            <p id="warrior-health-txt">800 / 800 HP</p>
          </div>
        </div>
      </div>

      <!-- Healthbar til fienden -->
      <div class="dragon-health-container">
        <div class="healthbar-container">
          <!-- dragon-health sin vidde må forandres for å endre lifebar -->
          <div class="healthbar dragon-health"></div>
          <div class="text-container">
            <p id="dragon-name-txt">Dragens navn</p>
            <div class="text-container dragon-health-txt">2000 / 2000 HP</div>
          </div>
        </div>
      </div>

      <!-- Bildecontainere for heroene -->
      <div class="img-container healer">
        <img class="hero" src="assets/healer.png" />
      </div>
      <div class="img-container archer">
        <img class="hero" src="assets/archer.png" />
      </div>
      <div class="img-container warrior">
        <img class="hero" src="assets/warrior.png" />
      </div>

      <!-- Bildecontainer for fienden -->
      <div class="enemy-container">
        <div class="img-container dragon-container">
          <img class="dragon" src="assets/dragon.png" />
        </div>
      </div>
    </div>
    <script>
      //Denne JS-koden er laget klar for deg. Den trenger du ikke endre på.

      //Stats for heroes
      let heroesArray = [
        {
          id: 0,
          name: "Henriette Healer",
          maxHP: 400,
          currentHP: 400,
          damage: 100,
          alive: true,
        },
        {
          id: 1,
          name: "Ariana Archer",
          maxHP: 500,
          currentHP: 500,
          damage: 400,
          alive: true,
        },
        {
          id: 2,
          name: "Wyona Warrior",
          maxHP: 600,
          currentHP: 600,
          damage: 400,
          alive: true,
        },
      ];

      let dragonObject = {
        name: "Daar Dragon",
        maxHP: 2000,
        currentHP: 2000,
        damage: 200,
        alive: true,
      };

      // 1) lager en funksjon som gjør at når bruker trykker på en av heltene, skal helten angripe dragen. legg til alert der det står at (heltens navn) har gjort (heltens skade) på (dragens navn). Dragens liv (current HP) skal bli trukket med heltens damage avhengig av hvilken helt den blir angrepet av. Dragens current HP blir oppdatert i arrayet.

      // Påkrevd å bruke: alert, function, onclick/event listener, manipulering av array-objekter.

      function heroesAttackDragon(heroId) {
        const hero = heroesArray[heroId];

        if (dragonObject.currentHP > 0) {
          dragonObject.currentHP -= hero.damage;

          if (dragonObject.currentHP < 0) {
            dragonObject.currentHP = 0;
          }

          alert(
            `${hero.name} har gjort ${hero.damage} skade på ${dragonObject.name}. Dragens gjenværende HP: ${dragonObject.currentHP}`
          );
        } else {
          alert("Dragen er allerede beseiret!");
        }
      }
      document.querySelector(".healer img").onclick = function () {
        heroesAttackDragon(0);
      };
      document.querySelector(".archer img").onclick = function () {
        heroesAttackDragon(1);
      };
      document.querySelector(".warrior img").onclick = function () {
        heroesAttackDragon(2);
      };

      // 2) Dragen skal umiddelbart gjøre et motangrep når den blir angrepet av en helt.
      // Dragen skal angripe en tilfeldig helt - kun helter som er i live. "alive"-property må være true. Det skal komme en ny alert "Dragens navn" har angrepet "Heltens navn". Helten som blir angrepet sitt liv "current HP" skal bli trukket med dragens damage. 
    </script>
  </body>
</html>
